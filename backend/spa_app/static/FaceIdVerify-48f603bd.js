import{u as f,a as l,r,Q as i,j as a,L as p,S as m,o as D}from"./index-ff440259.js";import{F as S}from"./FaceIdDetector-6b296a97.js";function v(h){const c=f(),o=l(),n=r.useRef(""),u=t=>{m.verifyViaFace(t).then(e=>{const s={verified:!0,for:n.current};i.setSessionData(s),s.for&&(o(s.for),window.location.reload())}).catch(e=>{console.error("error:",e),e.response.status===403&&e.response.data&&c(D({status:403,message:e.response.data.message}))})},d=t=>{const e=new FormData;e.append("image",t),u(e)};return r.useEffect(()=>{const t=i.getSessionData();if(t===null)return o("/");n.current=t.for},[]),a.jsx(p,{children:a.jsx("div",{className:"container mx-auto",children:a.jsx(S,{detectLimit:2,onFullDetect:d})})})}export{v as default};
