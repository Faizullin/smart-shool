import{R as c,J as h,j as e,T as x,F as o,K as g}from"./index-936a227f.js";import{F as j,S as p}from"./FaceIdDetector-b42f462f.js";const a=3;function _(F){const[s,i]=c.useState([]),n=c.useRef(0),{redirect:d}=h(),u=()=>{const t=new FormData;s.forEach((r,f)=>{f>=a||t.append("images",r)}),p.trainFace(t).then(()=>{d()}).catch(r=>{})},l=t=>{if(s.length>a){window.location.reload();return}i(r=>[...r,t])},m=t=>{n.current=t,n.current>a?n.current=a:n.current===0&&i([])};return e.jsxs("div",{className:"form-container",children:[e.jsx(x,{title:"Face-id Train"}),e.jsx("h3",{children:e.jsx(o,{id:"face_id.train_with_face_id",defaultMessage:"Train face id"})}),e.jsx(j,{detectLimit:3,onDetect:l,onCountChange:m,delay_interval:300}),e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:"d-flex justify-content-start flex-wrap",children:e.jsx(g,{onClick:u,processing:s.length<a,type:"button",children:e.jsx(o,{id:"submit",defaultMessage:"Submit"})})})})]})}export{_ as default};
